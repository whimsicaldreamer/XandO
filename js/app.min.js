$(document).ready(function(){function n(){var n=$("#boardGrid"),e=n.outerWidth();n.outerHeight(e)}function e(){$.post("gameEngine/app.php",{action:"update",room:s},function(n){var o,a=JSON.parse(n);jQuery.each(["p1_","p2_"],function(n,e){a.playerDetails[e]?($("#"+e+"name").html(a.playerDetails[e].name),$("#"+e+"score").html(a.playerDetails[e].score)):($("#"+e+"name").html("---"),$("#"+e+"score").html("0"))}),$("#draw_score").html(a.tie),jQuery.each(a.movesMade,function(n,e){"-"!=e&&("&#10008;"==e?o="crosses":"&#9711;"==e&&(o="noughts"),$("td[data-cell='"+n+"']").html(e).addClass(o))}),"&#10008;"==a.winner?($("#winnerSymbol").html(a.winner).addClass("crosses"),$("#crown").addClass("crownCross"),$("#wonText").html("WON!"),t.modal().addClass("bounceIn")):"&#9711;"==a.winner?($("#winnerSymbol").html(a.winner).addClass("noughts"),$("#crown").addClass("crownNought"),$("#wonText").html("WON!"),t.modal().addClass("bounceIn")):"Draw"==a.winner&&($("#winnerSymbol").html('<img src="images/1f61c.png"/>').addClass("tie"),$("#crown").hide(),$("#wonText").html("TIE!"),t.modal().addClass("bounceIn")),setTimeout(e,2500)})}n(),$(window).resize(function(){n()});var o=$("td"),a=$("#notification"),t=$("#podium"),s=$("#room").val();e(),o.on("click",function(){var n,e=$(this),o=e.data("cell");$.post("gameEngine/app.php",{action:"move",room:s,cell:o},function(e){var o=JSON.parse(e);1==o.code?$(a).html("This place is already occupied!").addClass("alert-warning animated bounceInDown").show().one("animationend",function(){$(this).addClass("bounceOutUp").one("animationend",function(){$(this).removeClass("alert-warning animated bounceInDown bounceOutUp").html("")})}):2==o.code?$(a).html("<strong>C&#2036;mon!!</strong> Your turn is over..").addClass("alert-danger animated bounceInDown").show().one("animationend",function(){$(this).addClass("bounceOutUp").one("animationend",function(){$(this).removeClass("alert-danger animated bounceInDown bounceOutUp").html("")})}):("&#10008;"==o.symbol?n="crosses":"&#9711;"==o.symbol&&(n="noughts"),$("td[data-cell='"+o.cellNo+"']").html(o.symbol).addClass(n))})}),$("#restart").on("click",function(){$.post("gameEngine/app.php",{action:"reset"},function(n){"success"==n&&t.removeClass("bounceIn").addClass("bounceOut").one("animationend",function(){$(o).html(""),t.modal("hide").removeClass("bounceOut")})})})});